![y563](https://github.com/Codynodycom/library-py-easy/blob/main/python-theory/18-pygame/images/pygame.png)

# Введение

`Pygame` — это популярная библиотека для создания игр и интерактивной графики на Python. Она предназначена как для новичков, так и для опытных разработчиков, позволяя легко создавать 2D-игры и анимации. В этой статье мы познакомимся с основами Pygame, её возможностями и простыми примерами, которые помогут вам начать свой путь в мире разработки игр.

## Для чего нужна Pygame?

Pygame используется для разработки 2D-игр и приложений, где необходима работа с графикой, звуками и взаимодействием с пользователем. С помощью Pygame можно:

- Создавать окна с заданными размерами и отображать графику.

- Управлять объектами на экране, задавать их анимацию и перемещения.

- Обрабатывать события, такие как нажатия клавиш или щелчки мыши.

- Добавлять звуковые эффекты и фоновую музыку.

- Работать с изображениями и текстом на экране.

## Основные компоненты

Pygame состоит из нескольких ключевых компонентов, которые помогают создавать игры и приложения. Рассмотрим их подробнее.

#### 1. Экран (Screen)
Экран — это основное окно, где отображается вся графика. Мы создаём экран, задавая его размеры, и можем обновлять его, добавляя новые элементы.

#### 2. Игровой цикл
Игровой цикл — это основной цикл, который непрерывно обновляет экран и обрабатывает события. Благодаря игровому циклу игра остаётся активной, пока пользователь не закроет окно.

#### 3. События
События позволяют программе реагировать на действия пользователя, например, на нажатия клавиш или мыши. Pygame имеет систему событий, которая отслеживает действия пользователя и позволяет выполнять нужные команды.

#### 4. Спрайты и объекты
Спрайты — это графические элементы, которые можно перемещать, анимировать и изменять на экране. В играх спрайтами обычно являются персонажи, враги, предметы и т.д.

#### 5. Звуки и музыка
Pygame позволяет добавлять звуки и музыку в игры. С помощью звуковых эффектов можно сделать игру более захватывающей и динамичной.

## Пример 1: Создание простого окна

**Первый шаг** — создать окно, в котором будет отображаться наша игра. Это поможет понять базовую структуру программы на Pygame.

![dfg43](https://github.com/Codynodycom/library-py-easy/blob/main/python-theory/18-pygame/images/py-1.png)

```python
import pygame  # Импортируем библиотеку Pygame для создания игр и графики.

# Инициализируем Pygame
pygame.init()

# Задаём размеры окна
WIDTH, HEIGHT = 800, 600  # Ширина и высота окна в пикселях.
screen = pygame.display.set_mode((WIDTH, HEIGHT))  # Создаём окно с заданными размерами.
pygame.display.set_caption("Моя первая игра на Pygame")  # Устанавливаем заголовок окна.

# Основной цвет фона
background_color = (0, 0, 0)  # Определяем цвет фона. (0, 0, 0) — это чёрный цвет (RGB).

# Основной игровой цикл
running = True  # Переменная, которая контролирует запуск и завершение игры.
while running:  # Цикл будет работать, пока running == True.
    for event in pygame.event.get():  # Проходим через все события, произошедшие за последнее обновление.
        if event.type == pygame.QUIT:  # Проверяем, закрывает ли пользователь окно.
            running = False  # Если да, то завершаем игровой цикл.

    screen.fill(background_color)  # Заполняем окно текущим цветом фона.
    pygame.display.flip()  # Обновляем экран, чтобы изменения стали видны.

# Завершаем работу Pygame
pygame.quit()  # Корректно завершаем работу библиотеки.
```

## Пример 2: Изменение цвета фона при нажатии клавиши

Теперь давайте добавим возможность менять цвет фона при нажатии клавиш.

![fwfggew](https://github.com/Codynodycom/library-py-easy/blob/main/python-theory/18-pygame/images/py-2.png)

```python
import pygame
import random  # Импортируем модуль для генерации случайных чисел.

pygame.init()

# Задаём размеры окна
WIDTH, HEIGHT = 800, 600
screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption("Изменение цвета фона")

background_color = (0, 0, 0)  # Начальный цвет фона — чёрный.

running = True
while running:
    for event in pygame.event.get():  # Обрабатываем все события
        if event.type == pygame.QUIT:  # Проверка на закрытие окна
            running = False
        elif event.type == pygame.KEYDOWN:  # Если нажата клавиша
            # Меняем цвет фона на случайный
            background_color = (
                random.randint(0, 255),  # Случайное значение для красного цвета (от 0 до 255)
                random.randint(0, 255),  # Случайное значение для зелёного цвета
                random.randint(0, 255)   # Случайное значение для синего цвета
            )

    screen.fill(background_color)  # Заполняем экран текущим цветом фона
    pygame.display.flip()  # Обновляем экран

pygame.quit()
```

## Пример 3: Перемещение квадрата по экрану с помощью клавиш

Теперь создадим объект (квадрат), который можно перемещать с помощью клавиш-стрелок.

![hhj9ger](https://github.com/Codynodycom/library-py-easy/blob/main/python-theory/18-pygame/images/py-3.png)

```python
import pygame

pygame.init()

# Задаём размеры окна
WIDTH, HEIGHT = 800, 600
screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption("Управление квадратом")

# Начальные параметры квадрата
x, y = WIDTH // 2, HEIGHT // 2  # Начальные координаты квадрата в центре окна
size = 50  # Размер квадрата
speed = 5  # Скорость перемещения

running = True
while running:
    for event in pygame.event.get():  # Обрабатываем все события
        if event.type == pygame.QUIT:
            running = False

    # Получаем состояние всех клавиш
    keys = pygame.key.get_pressed()

    # Перемещение квадрата в зависимости от нажатых клавиш
    if keys[pygame.K_LEFT]:  # Если нажата клавиша "влево"
        x -= speed
    if keys[pygame.K_RIGHT]:  # Если нажата клавиша "вправо"
        x += speed
    if keys[pygame.K_UP]:  # Если нажата клавиша "вверх"
        y -= speed
    if keys[pygame.K_DOWN]:  # Если нажата клавиша "вниз"
        y += speed

    # Заливаем экран чёрным цветом
    screen.fill((0, 0, 0))

    # Рисуем квадрат
    pygame.draw.rect(screen, (255, 0, 0), (x, y, size, size))  # Квадрат красного цвета
    pygame.display.flip()  # Обновляем экран

pygame.quit()
```

