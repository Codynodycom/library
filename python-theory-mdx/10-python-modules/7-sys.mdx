# Модуль `sys` в Python

Модуль `sys` в Python предоставляет функции и переменные для взаимодействия с интерпретатором Python и управлением средой выполнения программы. С его помощью можно получать информацию о параметрах запуска программы, управлять потоками ввода-вывода, работать с исключениями и многое другое.

### Параметры командной строки

Когда ты запускаешь программу из командной строки, ты можешь передавать аргументы, и модуль sys позволяет получать эти параметры с помощью списка `sys.argv`. Первый элемент списка (`sys.argv[0]`) всегда содержит имя скрипта, а остальные элементы — переданные аргументы.

```python
import sys

print("Имя скрипта:", sys.argv[0])
if len(sys.argv) > 1:
    print("Переданные аргументы:", sys.argv[1:])
else:
    print("Аргументы не переданы.")
```

Запуск программы с аргументами, например python `script.py arg1 arg2`, выведет:

```python
Имя скрипта: script.py
Переданные аргументы: ['arg1', 'arg2']
```

### Завершение программы

Функция `sys.exit()` позволяет завершить выполнение программы вручную. Можно передать числовой код выхода — обычно 0 означает успешное завершение, а любое другое число — ошибку.

```python
import sys

print("Программа завершена.")
sys.exit(0)
```

Этот код завершит выполнение программы с кодом выхода 0, который указывает на успешное завершение.

### Получение информации о версии Python

Иногда бывает важно узнать, какая версия Python используется для выполнения программы. Для этого можно использовать переменную `sys.version`, которая возвращает строку с информацией о версии интерпретатора.

```python
import sys

print("Используемая версия Python:", sys.version)
```

Этот код выведет текущую версию Python, например: `Python 3.10.0`.

### Пути поиска модулей

Когда ты импортируешь модуль в Python, интерпретатор ищет его в нескольких директориях. Эти пути хранятся в переменной `sys.path`, которая представляет собой список.

```python
import sys

print("Пути поиска модулей:")
for path in sys.path:
    print(path)
```

Этот код выведет список директорий, в которых Python ищет модули при выполнении команды `import`.

### Изменение путей поиска модулей

Если тебе нужно, чтобы Python искал модули в конкретной директории, ты можешь добавить её в список `sys.path`.

```python
import sys

sys.path.append("/путь/к/директории")
print("Обновлённые пути поиска модулей:", sys.path)
```

Этот код добавляет новую директорию в пути поиска модулей.

### Потоки ввода и вывода

Модуль `sys` предоставляет доступ к стандартным потокам ввода, вывода и ошибок: `sys.stdin`, `sys.stdout`, и `sys.stderr`. С их помощью можно управлять вводом и выводом данных в программе.

#### Перенаправление вывода

По умолчанию вывод осуществляется в консоль через `sys.stdout`, но можно перенаправить его в файл.

```python
import sys

# Перенаправляем вывод в файл
with open("output.txt", "w") as file:
    sys.stdout = file
    print("Этот текст будет записан в файл, а не выведен в консоль.")

# Возвращаем вывод обратно в консоль
sys.stdout = sys.__stdout__
print("Этот текст снова выводится в консоль.")
```

Этот код запишет текст `"Этот текст будет записан в файл..."` в файл `output.txt`, а затем снова вернёт вывод в консоль.

### Обработка исключений

Переменная `sys.exc_info()` возвращает информацию о текущем активном исключении. Это полезно для работы с обработкой ошибок и исключений.

```python
import sys

try:
    1 / 0  # Попытка деления на ноль
except:
    exc_type, exc_value, exc_traceback = sys.exc_info()
    print("Тип исключения:", exc_type)
    print("Значение исключения:", exc_value)
```

Этот код поймает исключение, возникшее при попытке деления на ноль, и выведет его тип и значение.

### Получение информации о платформе

Переменная `sys.platform` содержит информацию о платформе, на которой выполняется программа (например, Windows, Linux или macOS).

```python
import sys

print("Операционная система:", sys.platform)
```

Этот код выведет информацию о платформе, например: win32 для Windows или linux для Linux.

### Размер объектов в памяти

Функция `sys.getsizeof()` возвращает размер объекта в байтах. Это полезно для анализа памяти, используемой программой.

```python
import sys

number = 1000
size = sys.getsizeof(number)
print(f"Размер объекта number в байтах: {size}")
```

Этот код выведет размер объекта `number` в памяти.

### Заключение программы при ошибке

Функция `sys.exit()` может принимать аргумент, который сообщает, по какой причине завершилась программа. Это может быть полезно при отладке и диагностике.

```python
import sys

try:
    x = int(input("Введите число: "))
except ValueError:
    print("Ошибка: введено не число.")
    sys.exit(1)  # Завершаем программу с кодом ошибки 1
```

Этот код завершит программу с кодом выхода `1`, если введено некорректное значение.
