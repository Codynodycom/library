# Вложенные структуры данных

В Python словари могут содержать в качестве значений другие структуры данных, такие как списки, множества, кортежи или даже другие словари. Эти вложенные структуры данных позволяют создавать сложные и гибкие модели данных. Вложенные словари часто применяются для представления реальных объектов, таких как базы данных, файлы конфигурации или JSON-ответы от API.

```python
student = {
    'name': 'Alice',
    'age': 22,
    'courses': {
        'math': {'score': 90, 'credits': 3},
        'physics': {'score': 85, 'credits': 4}
    },
    'address': {
        'city': 'New York',
        'zipcode': '10001'
    }
}
```

В этом примере у нас есть словарь `student`, который содержит вложенные словари для курсов и адреса.

### Зачем использовать вложенные структуры данных?

Вложенные структуры данных помогают организовать сложные объекты в удобном формате, позволяя легко управлять данными и обращаться к ним через несколько уровней. Это полезно, например, для хранения информации о студентах, где каждый студент может иметь несколько курсов с оценками и кредитами.

### Доступ к данным во вложенных структурах

Для доступа к данным во вложенных словарях нужно обращаться к ключам каждого уровня по порядку.

```python
# Получение города студента
city = student['address']['city']
print(city)  # 'New York'

# Получение оценки по математике
math_score = student['courses']['math']['score']
print(math_score)  # 90
```

### Изменение данных во вложенных структурах

Изменять данные во вложенных словарях так же просто, как и обращаться к ним. Нужно обратиться к нужному ключу и присвоить новое значение.

```python
# Изменение оценки по физике
student['courses']['physics']['score'] = 88
print(student['courses']['physics']['score'])  # 88

# Изменение города
student['address']['city'] = 'San Francisco'
print(student['address']['city'])  # 'San Francisco'
```

### Добавление новых элементов во вложенные словари

Для добавления новых элементов в уже существующий вложенный словарь, можно обращаться к нужному уровню вложенности и присваивать новое значение по ключу.

```python
# Добавление нового курса по информатике
student['courses']['computer_science'] = {'score': 95, 'credits': 3}
print(student['courses']['computer_science'])
# {'score': 95, 'credits': 3}
```

```python
# Добавление нового курса по информатике
student['courses']['computer_science'] = {'score': 95, 'credits': 3}
print(student['courses']['computer_science'])
# {'score': 95, 'credits': 3}
```

### Удаление элементов во вложенных структурах

Для удаления элементов во вложенных структурах используется метод `pop()` или оператор `del`.

```python
# Удаление информации о курсе по физике
student['courses'].pop('physics')
print(student['courses'])
# {'math': {'score': 90, 'credits': 3}, 'computer_science': {'score': 95, 'credits': 3}}
```

### Итерация по вложенным структурам

Можно итерировать по вложенным словарям, используя циклы. Это полезно для обработки всех уровней данных.

```python
# Итерация по курсам и вывод оценок
for course, details in student['courses'].items():
    print(f"Course: {course}, Score: {details['score']}, Credits: {details['credits']}")
# Вывод:
# Course: math, Score: 90, Credits: 3
# Course: computer_science, Score: 95, Credits: 3
```

### Пример использования вложенных структур: каталог товаров

Вложенные словари часто используются для хранения информации о товарах в интернет-магазинах.

```python
catalog = {
    'apple': {
        'price': 1.2,
        'stock': 50
    },
    'banana': {
        'price': 0.8,
        'stock': 100
    },
    'orange': {
        'price': 1.5,
        'stock': 30
    }
}

# Доступ к информации о товаре
banana_price = catalog['banana']['price']
print(f"Цена на банан: {banana_price}")

# Обновление информации о количестве товара
catalog['orange']['stock'] += 10
print(f"Запасы апельсинов: {catalog['orange']['stock']}")
```
